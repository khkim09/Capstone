<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="WeaponSystem_8cs" kind="file" language="C#">
    <compoundname>WeaponSystem.cs</compoundname>
    <innerclass refid="classWeaponSystem" prot="public">WeaponSystem</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">using<sp/></highlight><highlight class="normal">System.Collections.Generic;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">UnityEditor;</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">UnityEngine;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="9" refid="classWeaponSystem" refkind="compound"><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classWeaponSystem" kindref="compound">WeaponSystem</ref><sp/>:<sp/><ref refid="classShipSystem" kindref="compound">ShipSystem</ref></highlight></codeline>
<codeline lineno="10"><highlight class="normal">{</highlight></codeline>
<codeline lineno="14" refid="classWeaponSystem_1ade49490990fd921f158af9e136aee038" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>[SerializeField]<sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1ade49490990fd921f158af9e136aee038" kindref="member">autoFireEnabled</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="20" refid="classWeaponSystem_1a4664bc232783de0d119664f701436a6b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1a4664bc232783de0d119664f701436a6b" kindref="member">Update</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>deltaTime)</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>재장전<sp/>보너스를<sp/>한<sp/>번<sp/>계산해서<sp/>모든<sp/>무기에<sp/>적용</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>reloadBonus<sp/>=<sp/><ref refid="classShipSystem_1a0c4c206aa7e875dc6810ea122e46b332" kindref="member">GetShipStat</ref>(ShipStat.ReloadTimeBonus);</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reloadBonus<sp/>=<sp/>(reloadBonus<sp/>+<sp/>100)<sp/>/<sp/>100;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>임시<sp/>코드</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>reloadBonus<sp/>+=<sp/>50;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//reloadBonus<sp/>=<sp/>-1000;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(<ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>)</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>재장전<sp/>보너스를<sp/>적용한<sp/>쿨다운<sp/>업데이트</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>여기서<sp/>무기가<sp/>준비되면<sp/>자동으로<sp/>발사됨</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classWeaponSystem_1ae300f85d238f93f4930369ca89591ad1" kindref="member">UpdateWeaponCooldownWithBonus</ref>(weapon,<sp/>deltaTime,<sp/>reloadBonus);</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classWeaponSystem_1ade49490990fd921f158af9e136aee038" kindref="member">autoFireEnabled</ref><sp/>&amp;&amp;<sp/>weapon.<ref refid="classShipWeapon_1a72518cf9b3021beca098c19c438dbc5f" kindref="member">IsReady</ref>())</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.<ref refid="classShipWeapon_1ae07871ba8eadcce6c4042e3f988980a6" kindref="member">TryFire</ref>();</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="46" refid="classWeaponSystem_1ae300f85d238f93f4930369ca89591ad1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1ae300f85d238f93f4930369ca89591ad1" kindref="member">UpdateWeaponCooldownWithBonus</ref>(<ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>deltaTime,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>reloadBonus)</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ShipWeapon의<sp/>새로운<sp/>메서드를<sp/>호출하여<sp/>재장전<sp/>보너스<sp/>적용</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>여기서<sp/>쿨다운이<sp/>완료되면<sp/>자동으로<sp/>발사됨</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(weapon)</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.UpdateCooldownWithBonus(deltaTime,<sp/>reloadBonus);</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="58" refid="classWeaponSystem_1aae3d852dcad70c5d7a1f5dca7532fc8e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1aae3d852dcad70c5d7a1f5dca7532fc8e" kindref="member">SetAutoFireEnabled</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>enabled)</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classWeaponSystem_1ade49490990fd921f158af9e136aee038" kindref="member">autoFireEnabled</ref><sp/>=<sp/>enabled;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="67" refid="classWeaponSystem_1af209385dab048d795a6afafa14833738" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1af209385dab048d795a6afafa14833738" kindref="member">IsAutoFireEnabled</ref>()</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1ade49490990fd921f158af9e136aee038" kindref="member">autoFireEnabled</ref>;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="77" refid="classWeaponSystem_1a266a34e53065779bd5f92db175dcb5f3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1a266a34e53065779bd5f92db175dcb5f3" kindref="member">FireWeapon</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>weaponIndex<sp/>=<sp/>-1)</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(weaponIndex<sp/>==<sp/>-1)</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>준비된<sp/>모든<sp/>무기<sp/>발사</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1a73e0b9a0da5d4c185a14d7e8e2410650" kindref="member">FireAllReadyWeapons</ref>();</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>특정<sp/>무기<sp/>발사</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(weaponIndex<sp/>&gt;=<sp/>0<sp/>&amp;&amp;<sp/>weaponIndex<sp/>&lt;<sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>.Count)</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon<sp/>=<sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>[weaponIndex];</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>weapon.<ref refid="classShipWeapon_1ae07871ba8eadcce6c4042e3f988980a6" kindref="member">TryFire</ref>()<sp/>?<sp/>1<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="101" refid="classWeaponSystem_1a73e0b9a0da5d4c185a14d7e8e2410650" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1a73e0b9a0da5d4c185a14d7e8e2410650" kindref="member">FireAllReadyWeapons</ref>()</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>firedCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(<ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(weapon.<ref refid="classShipWeapon_1ae07871ba8eadcce6c4042e3f988980a6" kindref="member">TryFire</ref>())</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>firedCount++;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>firedCount;</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="117" refid="classWeaponSystem_1a8bbbcfefb2cf3cacb7abc79900ab1cfd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1a8bbbcfefb2cf3cacb7abc79900ab1cfd" kindref="member">FireWeaponsByType</ref>(ShipWeaponType<sp/>weaponType)</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>firedCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(<ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>)</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(weapon.<ref refid="classShipWeapon_1af44d2f4e2b94ca1866ed1206d976cc79" kindref="member">GetWeaponType</ref>()<sp/>==<sp/>weaponType<sp/>&amp;&amp;<sp/>weapon.<ref refid="classShipWeapon_1ae07871ba8eadcce6c4042e3f988980a6" kindref="member">TryFire</ref>())</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>firedCount++;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>firedCount;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="134" refid="classWeaponSystem_1ab22fd7259a04cbb21178d961d6b31047" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/><ref refid="classWeaponSystem_1ab22fd7259a04cbb21178d961d6b31047" kindref="member">AddWeapon</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>weaponId,<sp/>Vector2Int<sp/>gridPosition,<sp/>ShipWeaponAttachedDirection<sp/>direction)</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>무기<sp/>인스턴스<sp/>생성</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon<sp/>=<sp/><ref refid="classGameObjectFactory" kindref="compound">GameObjectFactory</ref>.Instance.ShipWeaponFactory.<ref refid="classShipWeaponFactory_1a4101dd150eadd0690cdb9c839b005c08" kindref="member">CreateWeaponInstance</ref>(weaponId);</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>필요한<sp/>속성<sp/>설정</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.<ref refid="classShipWeapon_1a030da07209308a605177da3eaf791b38" kindref="member">SetGridPosition</ref>(gridPosition);</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.<ref refid="classShipWeapon_1a3d363faa31a15866bbbed0ee8525c699" kindref="member">SetAttachedDirection</ref>(direction);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.transform.SetParent(<ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.transform);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>parentShip.allWeapons.Add(weapon);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>offset<sp/>=<sp/>RoomRotationUtility.GetRotationOffset(weapon.gridSize,<sp/>Constants.Rotations.Rotation.Rotation0);</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.transform.position<sp/>=<sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1acc377098e3c61bbd4b8fc53595d09293" kindref="member">GetWorldPositionFromGrid</ref>(gridPosition)<sp/>+<sp/>(Vector3)offset;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.<ref refid="classShipWeapon_1a381aff291620c120979e6da7852b8ae9" kindref="member">ApplyRotationSprite</ref>(<ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1a61cb09945d19adc35f1c2aaf845c39ce" kindref="member">GetOuterHullLevel</ref>());</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>임시</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>.Add(weapon);</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>weapon;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/><ref refid="classWeaponSystem_1ab22fd7259a04cbb21178d961d6b31047" kindref="member">AddWeapon</ref>(<ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>shipWeapon)</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon<sp/>=<sp/><ref refid="classGameObjectFactory" kindref="compound">GameObjectFactory</ref>.Instance.ShipWeaponFactory.CreateWeaponObject(shipWeapon);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.transform.SetParent(<ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.transform);</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.<ref refid="classShipWeapon_1a381aff291620c120979e6da7852b8ae9" kindref="member">ApplyRotationSprite</ref>(<ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1a61cb09945d19adc35f1c2aaf845c39ce" kindref="member">GetOuterHullLevel</ref>());</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>offset<sp/>=<sp/>RoomRotationUtility.GetRotationOffset(weapon.gridSize,<sp/>Constants.Rotations.Rotation.Rotation0);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.transform.position<sp/>=<sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1acc377098e3c61bbd4b8fc53595d09293" kindref="member">GetWorldPositionFromGrid</ref>(weapon.<ref refid="classShipWeapon_1a421526a38a8fbd32127d0063526c9c6a" kindref="member">GetGridPosition</ref>())<sp/>+<sp/>(Vector3)offset;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>.Add(weapon);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>weapon;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>RemoveWeapon(<ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon)</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>.Contains(weapon))</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>.Remove(weapon);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(weapon<sp/>!=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)<sp/>Object.Destroy(weapon.gameObject);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="194" refid="classWeaponSystem_1a624ae04a45c9a1472b259d8b8ce4cfa0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1a624ae04a45c9a1472b259d8b8ce4cfa0" kindref="member">GetActualCooldown</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>baseCooldown)</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>baseCooldown<sp/>*<sp/><ref refid="classShipSystem_1a0c4c206aa7e875dc6810ea122e46b332" kindref="member">GetShipStat</ref>(ShipStat.ReloadTimeBonus);</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="206" refid="classWeaponSystem_1a76fad11c0e7c6d587a635081322f4b4f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1a76fad11c0e7c6d587a635081322f4b4f" kindref="member">GetActualDamage</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>damage)</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>damage<sp/>*<sp/>(100<sp/>+<sp/><ref refid="classShipSystem_1a0c4c206aa7e875dc6810ea122e46b332" kindref="member">GetShipStat</ref>(ShipStat.DamageBonus))<sp/>/<sp/>100;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="216" refid="classWeaponSystem_1aa5e6758d3084f4cc090cdfc92a5aad2a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>List&lt;ShipWeapon&gt;<sp/><ref refid="classWeaponSystem_1aa5e6758d3084f4cc090cdfc92a5aad2a" kindref="member">GetWeapons</ref>()</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="225" refid="classWeaponSystem_1a759ffe81166835b38f3e2d161a6b56da" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1a759ffe81166835b38f3e2d161a6b56da" kindref="member">GetWeaponCount</ref>()</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>.Count;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="233" refid="classWeaponSystem_1a5880eec43126d7d98923b46b2aa0257d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1a5880eec43126d7d98923b46b2aa0257d" kindref="member">RemoveAllWeapons</ref>()</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(<ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>)</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Object.Destroy(weapon);</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>.Clear();</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="246" refid="classWeaponSystem_1aaada7c137ebe65734ab4d1f45b9c8798" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/><ref refid="classWeaponSystem_1aaada7c137ebe65734ab4d1f45b9c8798" kindref="member">GetWeaponByIndex</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>index)</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(index<sp/>&gt;=<sp/>0<sp/>&amp;&amp;<sp/>index<sp/>&lt;<sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>.Count)</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>[index];</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="257" refid="classWeaponSystem_1a1af41ebb69e5f5eb58996983e394a4e6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1a1af41ebb69e5f5eb58996983e394a4e6" kindref="member">IsEveryWeaponReady</ref>()</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(<ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>)</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(weapon.<ref refid="classShipWeapon_1a72518cf9b3021beca098c19c438dbc5f" kindref="member">IsReady</ref>()<sp/>&amp;&amp;<sp/>weapon.<ref refid="classShipWeapon_1adcc4bbde13b09e03903e416f46fc31f5" kindref="member">IsEnabled</ref>())</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="269" refid="classWeaponSystem_1a1bc7878b7289056221808d057ca26153" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1a1bc7878b7289056221808d057ca26153" kindref="member">UpdateWeaponCooldowns</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>deltaTime)</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>reloadBonus<sp/>=<sp/><ref refid="classShipSystem_1a0c4c206aa7e875dc6810ea122e46b332" kindref="member">GetShipStat</ref>(ShipStat.ReloadTimeBonus);</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(<ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>)</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classWeaponSystem_1ae300f85d238f93f4930369ca89591ad1" kindref="member">UpdateWeaponCooldownWithBonus</ref>(weapon,<sp/>deltaTime,<sp/>reloadBonus);</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="281" refid="classWeaponSystem_1a222bde2d70f9a593f47557fa23a3c652" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>List&lt;ShipWeapon&gt;<sp/><ref refid="classWeaponSystem_1a222bde2d70f9a593f47557fa23a3c652" kindref="member">GetWeaponsByType</ref>(ShipWeaponType<sp/>type)</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>.FindAll(w<sp/>=&gt;<sp/>w.GetWeaponType()<sp/>==<sp/>type);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="289" refid="classWeaponSystem_1acfe6f97f4c6ef23eaf2edc7098d635e4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classWeaponSystem_1acfe6f97f4c6ef23eaf2edc7098d635e4" kindref="member">ResetAllWeaponStats</ref>()</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(<ref refid="classShipWeapon" kindref="compound">ShipWeapon</ref><sp/>weapon<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>)</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.<ref refid="classShipWeapon_1a7837bcc0c1dadad8a0a0e8d1f8abc9e4" kindref="member">SetHits</ref>(0);</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>weapon.<ref refid="classShipWeapon_1a0e3b641ba24b013310ae3051b72ba377" kindref="member">SetTotalDamageDealt</ref>(0f);</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="303" refid="classWeaponSystem_1a996a2bea0b0df975a78e870e73910829" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>List&lt;ShipWeapon&gt;<sp/><ref refid="classWeaponSystem_1a996a2bea0b0df975a78e870e73910829" kindref="member">GetWeaponsByWarheadType</ref>(WarheadType<sp/>warheadType)</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>.FindAll(w<sp/>=&gt;<sp/>w.weaponData.warheadType.warheadType<sp/>==<sp/>warheadType);</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>List&lt;ShipWeapon&gt;<sp/>GetWeaponsByEffect(ShipWeaponEffectType<sp/>effectType)</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classShipSystem_1adde74af44fb3cbdc3b002e1c5a09092c" kindref="member">parentShip</ref>.<ref refid="classShip_1abc40af72686f7a465cde02b4b35f42b7" kindref="member">allWeapons</ref>.FindAll(w<sp/>=&gt;<sp/>w.weaponData.effectData.effectType<sp/>==<sp/>effectType);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="312"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="Assets/Scripts/Ship/ShipSystems/WeaponSystem.cs"/>
  </compounddef>
</doxygen>
